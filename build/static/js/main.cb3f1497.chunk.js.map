{"version":3,"sources":["core/dates/selectors.js","core/auth/selectors.js","core/dates/actions.js","core/dates/action-types.js","core/auth/actions.js","core/auth/action-types.js","ui/calendar/index.js","config.js","core/config/selectors.js","ui/config/index.js","core/config/action-types.js","ui/controls/index.js","ui/day/index.js","ui/header/index.js","ui/month/index.js","App.js","serviceWorker.js","core/auth/reducer.js","core/config/reducer.js","core/dates/reducer.js","core/reducer.js","index.js","core/store.js"],"names":["moment","require","format","getIsLoading","createSelector","state","dates","loading","getDays","startMonth","currentYear","year","currentYearDates","_loop","j","mmonth","add","currentMonthDates","Array","from","length","daysInMonth","x","i","startOf","push","getBankHolidayMapForYear","bankHolidays","reduce","map","bh","start","hol","Object","objectSpread","isBHoliday","getHolidayMapForYear","holidays","hols","businessDaysMap","keys","day","end","isBefore","businessDays","origDay","clone","isSameOrBefore","includes","loopOverHolidaysAndFindEligibleDays","filterToCurrentYear","concat","findHolidayDays","getProvisionalHolidaysForYear","startDay","endOfCurrent","provisionalStart","provisionalEnd","flat","getHolidaysForYear","filter","getBankHolidaysForYear","date","getRemaining","carriedOver","daysPerYear","co","dpy","provisionalHolidays","getSelected","selected","listOfHolidays","formattedDay","getCurrentCO","getYear","isInSelectMode","getCurrentStartDay","authSelector","auth","ww","getIsLoggedIn","console","log","tokenObj","getName","Qt","Bd","getToken","id_token","deselectAction","createAction","fetchDatesAction","loadDatesAction","addNewBH","updateBH","selectHoliday","selectDay","payload","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee2","dispatch","getState","fullState","newHolidays","newStartDay","newState","wrap","_context2","prev","next","toConsumableArray","type","saveDates","JSON","stringify","stop","_x3","_x4","apply","this","arguments","data","token","fetch","method","body","headers","Authorization","Content-Type","LoginAction","_ref","_callee","_context","storeInstance","then","response","json","_x","Calendar","useSelector","loggedIn","useDispatch","responseGoogle","useCallback","react_default","createElement","Fragment","header_Header","className","month","month_Month","key","google_login","clientId","render","renderProps","onClick","disabled","buttonText","onSuccess","onFailure","cookiePolicy","controls_Controls","bankHolidayCountries","uk","display","usa","getIsConfig","config","configIsOpen","Config","isConfig","bhDates","holidayMap","uiDates","agg","defineProperty","name","closeConfig","chooseMonth","updateCarriedOver","newCo","updateBHDay","event","target","value","persist","newDate","values","slice","addBHDate","esm","for","id","onChange","country","Controls","deselect","_x2","bind","Day","mday","isWeekend","isHoliday","indexOf","holidayClass","bHolidayClass","provHolidayClass","iISM","selectClass","isCurrentStartDateClass","clickEvent","clickEventHandler","onHoverEvent","hoverEventHandler","onMouseOver","Header","remaining","username","changeYear","openConfig","index_esm","color","size","label","Month","day_Day","App","calendar_Calendar","config_Config","Boolean","window","location","hostname","match","defaultState","handleActions","undefined","2019","bankHolidayCountry","_handleActions","String","others","_ref3","text","_ref5","_ref6","parseInt","_ref7","_ref8","_ref9","_ref10","rootReducer","combineReducers","__webpack_require__","d","__webpack_exports__","createStore","applyMiddleware","thunk","logger","ReactDOM","es","store","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cb3f1497.chunk.js","sourcesContent":["import { createSelector } from 'reselect';\n\nconst moment = require('moment');\nmoment().format();\n\nconst dateState = state => state.dates;\n\nexport const getIsLoading = createSelector(\n    dateState,\n    state => state.loading\n)\n\nexport const getDays = createSelector(\n    state => state.dates.startMonth,\n    state => state.dates.currentYear,\n    (startMonth, year) => {\n        const currentYearDates = [];\n\n        for (let j = 0; j < 12; j++) {\n            const mmonth = moment([year, startMonth, 1]).add(j, 'M');\n            const currentMonthDates = Array.from({\n                length: moment(mmonth).daysInMonth()\n            }, (x, i) => moment(mmonth).startOf('month').add(i, 'days'));\n            currentYearDates.push(currentMonthDates);\n        }\n        return currentYearDates;\n    }\n);\n\nconst loopOverHolidaysAndFindEligibleDays = (bankHolidays) => (businessDaysMap, hol) => {\n    const bh = Object.keys(bankHolidays);\n    let day = moment(hol.start, 'YY-MM-DD');\n    let end = moment(hol.end, 'YY-MM-DD');\n    if (end.isBefore(day, 'day')) {\n        day = end;\n        end = moment(hol.start, 'YY-MM-DD');\n    }\n    let businessDays = 0;\n    let origDay = day.clone();\n    while (day.isSameOrBefore(end, 'day')) {\n        if (day.day() !== 0 && day.day() !== 6 && !bh.includes(day.format('YY-MM-DD'))) {\n            businessDays++;\n        }\n        day.add(1,'d');\n    }\n    day = origDay;\n\n    while (day.isSameOrBefore(end, 'day')) {\n        if (day.day() !== 0 && day.day() !== 6) {\n            businessDaysMap[day.format('YY-MM-DD')] = {\n                hol: hol,\n                length: businessDays\n            };\n        }\n        day.add(1,'d');\n    }\n    return businessDaysMap;\n}\n\nexport const getBankHolidayMapForYear = createSelector(\n    state => state.dates.bankHolidays,\n    (bankHolidays) => bankHolidays.reduce((map, bh) => {\n        map[bh.start] = {\n            hol: {\n                ...bh,\n                isBHoliday: true\n            }\n        }\n        return map;\n    }, {})\n)\n\nexport const getHolidayMapForYear = createSelector(\n    state => state.dates.holidays,\n    getBankHolidayMapForYear,\n    (holidays, bankHolidays) => {\n        const hols = holidays.reduce(loopOverHolidaysAndFindEligibleDays(bankHolidays), {});\n        return {...hols, ...bankHolidays};\n    }\n)\n\nexport const filterOutCurrentYear = (currentYear, startMonth) => (hol) => {\n    let day = moment(hol.start, 'YY-MM-DD');\n    let start = moment(`${currentYear}-${startMonth+1}-01`, 'YYYY-MM-DD');\n    let end = moment(`${currentYear+1}-${startMonth+1}-01`, 'YYYY-MM-DD');\n    if ( start <= day && day < end ) {\n        return false;\n    }\n    return hol;\n}\n\nconst filterToCurrentYear = (currentYear, startMonth) => (hol) => {\n    let day = moment(hol.start, 'YY-MM-DD');\n    let start = moment(`${currentYear}-${startMonth+1}-01`, 'YYYY-MM-DD');\n    let end = moment(`${currentYear+1}-${startMonth+1}-01`, 'YYYY-MM-DD');\n    if ( start <= day && day < end ) {\n        return hol;\n    }\n    return false;\n}\n\nconst findHolidayDays = (bankHolidays) => (hol) => {\n    const bh = Object.keys(bankHolidays);\n    let day = moment(hol.start, 'YY-MM-DD');\n    let end = moment(hol.end, 'YY-MM-DD');\n    if (end.isBefore(day, 'day')) {\n        day = end;\n        end = moment(hol.start, 'YY-MM-DD');\n    }\n    let businessDays = [];\n\n    while (day.isSameOrBefore(end, 'day')) {\n        if (day.day() !== 0 && day.day() !== 6 && !bh.includes(day.format('YY-MM-DD'))) {\n            businessDays.push(day.format('YY-MM-DD'));\n        }\n        day.add(1,'d');\n    }\n    return businessDays;\n}\n\nexport const getProvisionalHolidaysForYear = createSelector(\n    state => state.dates.startDay,\n    state => state.dates.endOfCurrent,\n    getBankHolidayMapForYear,\n    (provisionalStart, provisionalEnd, bankHolidays) => [\n        { start: provisionalStart, end: provisionalEnd }\n    ].map(findHolidayDays(bankHolidays)).flat()\n)\n\nexport const getHolidaysForYear = createSelector(\n    state => state.dates.holidays,\n    state => state.dates.currentYear,\n    state => state.dates.startMonth,\n    getBankHolidayMapForYear,\n    (holidays, currentYear, startMonth, bankHolidays) => holidays.filter(filterToCurrentYear(currentYear, startMonth)).map(findHolidayDays(bankHolidays)).flat()\n)\n\nexport const getBankHolidaysForYear = createSelector(\n    state => state.dates.bankHolidays,\n    state => state.dates.currentYear,\n    state => state.dates.startMonth,\n    (holidays, currentYear, startMonth) => holidays.filter(filterToCurrentYear(currentYear, startMonth)).map(date => date.start)\n)\n\nexport const getRemaining = createSelector(\n    state => state.dates.carriedOver,\n    state => state.dates.currentYear,\n    state => state.dates.daysPerYear,\n    getHolidaysForYear,\n    getProvisionalHolidaysForYear,\n    (co, year, dpy, holidays, provisionalHolidays) => {\n        const carried = co[year] || 0;\n        return carried + dpy - holidays.length - provisionalHolidays.length;\n    }\n);\n\nexport const getSelected = createSelector(\n    state => state.dates.selected,\n    getHolidayMapForYear,\n    (selected, listOfHolidays) => selected ? listOfHolidays[selected.formattedDay] : false,\n);\n\nexport const getCurrentCO = createSelector(\n    state => state.dates.currentYear,\n    (state, year) => state.dates.carriedOver,\n    (year, co) => co[year] || 0\n);\n\nexport const getYear = createSelector(\n    state => state.dates.currentYear,\n    year => year || 0\n);\n\nexport const isInSelectMode = createSelector(\n    state => state.dates.startDay,\n    (startDay) => startDay !== ''\n);\n\nexport const getCurrentStartDay = createSelector(\n    state => state.dates.startDay,\n    (startDay) => startDay || \"\"\n);\n","import { createSelector } from 'reselect';\n\nexport const authSelector = state => state.auth.ww;\n\nexport const getIsLoggedIn = createSelector(\n    authSelector,\n    ww => console.log('ww', ww) || ww && ww.tokenObj ? true : false\n)\n\nexport const getName = createSelector(\n    authSelector,\n    ww => ww && ww.Qt ? ww.Qt.Bd : ''\n)\n\nexport const getToken = createSelector(\n    authSelector,\n    ww => ww && ww.tokenObj ? ww.tokenObj.id_token : ''\n)\n","import { createAction } from 'redux-actions';\nimport { getToken } from '../auth/selectors';\n\nimport {\n  DATES_DESELECT,\n  DATES_SELECT_HOLIDAY,\n  DATES_SELECT_DAY,\n  FETCH_DATES_FROM_SERVER,\n  LOAD_DATES_FROM_SERVER,\n  ADD_NEW_BANK_HOLIDAY,\n  UPDATE_BANK_HOLIDAYS,\n} from './action-types';\n\nexport const deselectAction = createAction(DATES_DESELECT);\n\nexport const fetchDatesAction = createAction(FETCH_DATES_FROM_SERVER);\n\nexport const loadDatesAction = createAction(LOAD_DATES_FROM_SERVER);\n\nexport const addNewBH = createAction(ADD_NEW_BANK_HOLIDAY);\n\nexport const updateBH = createAction(UPDATE_BANK_HOLIDAYS);\n\nexport const selectHoliday = createAction(DATES_SELECT_HOLIDAY);\n\nexport const deselectDay = (payload) => {\n    return async (dispatch, getState) => {\n        await dispatch(deselectAction(payload));\n        const state = getState();\n        dispatch(saveDates(JSON.stringify({\n            ...state.dates,\n            selected: ''\n        }), state));\n    }\n}\n\nexport const selectDay = (payload) => {\n    return async (dispatch, getState) => {\n        const fullState = getState();\n        const state = fullState.dates;\n        let newHolidays;\n        let newStartDay;\n        if (state.startDay === '') {\n            newStartDay = payload;\n            newHolidays = state.holidays;\n        } else {\n            newStartDay = '';\n            newHolidays = [...state.holidays, {\n                start: state.startDay,\n                end: payload\n            }];\n        }\n        const newState = {\n            ...state,\n            startDay: newStartDay,\n            holidays: [ ...newHolidays ],\n            endOfCurrent: ''\n        };\n        await dispatch({\n            type: DATES_SELECT_DAY,\n            payload: newState\n        })\n        if (state.startDay !== '') {\n            dispatch(saveDates(JSON.stringify({\n                ...newState,\n                selected: ''\n            }), fullState));\n        }\n    }\n}\n\nexport const fetchDates = () => {\n    return (dispatch, getState) => {\n        const token = getToken(getState());\n        dispatch(fetchDatesAction())\n        return fetch(`https://78b76ebpsj.execute-api.us-west-2.amazonaws.com/dev/holidays`, {\n            method: 'GET',\n            headers: {\n                'Authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n            },\n        })\n        .then(response => response.json())\n        .then(json => dispatch(loadDatesAction(json)))\n    }\n}\n\nexport const saveDates = (data, state) => {\n    return (dispatch) => {\n        console.log(state);\n        const token = getToken(state);\n        return fetch(`https://78b76ebpsj.execute-api.us-west-2.amazonaws.com/dev/holidays`, {\n            method: 'POST',\n            body: data,\n            headers: {\n                'Authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n            },\n        })\n\n    }\n}\n","export const DATES_SELECT_DAY = 'DATES_SELECT_DAY';\nexport const DATES_CHANGE_DAYS_PER_YEAR = 'DATES_CHANGE_DAYS_PER_YEAR';\nexport const DATES_SELECT_START_MONTH = 'DATES_SELECT_START_MONTH';\nexport const DATES_SELECT_HOLIDAY = 'DATES_SELECT_HOLIDAY';\nexport const DATES_SELECT_END_OF_CURRENT = 'DATES_SELECT_END_OF_CURRENT';\nexport const DATES_CHANGE_YEAR = 'DATES_CHANGE_YEAR';\nexport const DATES_DESELECT = 'DATES_DESELECT';\nexport const DATES_UPDATE_CARRIED_OVER = 'DATES_UPDATE_CARRIED_OVER';\nexport const FETCH_DATES_FROM_SERVER = 'FETCH_DATES_FROM_SERVER';\nexport const LOAD_DATES_FROM_SERVER = 'LOAD_DATES_FROM_SERVER';\nexport const ADD_NEW_BANK_HOLIDAY = 'ADD_NEW_BANK_HOLIDAY';\nexport const UPDATE_BANK_HOLIDAYS = 'UPDATE_BANK_HOLIDAYS';\n","import { createAction } from 'redux-actions';\n\nimport { storeInstance } from '../..';\nimport { fetchDates } from '../dates/actions';\n\nimport {\n  LOGIN,\n  LOGIN_AND_LOAD_DATA\n} from './action-types';\n\nexport const LoginAction = createAction(LOGIN_AND_LOAD_DATA, async (payload) => {\n    await storeInstance.dispatch({\n        type: LOGIN,\n        payload\n    });\n    storeInstance.dispatch(fetchDates(payload.tokenObj.id_token))\n});\n","export const LOGIN = 'LOGIN';\nexport const LOGIN_AND_LOAD_DATA = 'LOGIN_AND_LOAD_DATA';\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { GoogleLogin } from 'react-google-login';\n\nimport { getDays, getIsLoading } from '../../core/dates/selectors';\nimport { getIsLoggedIn } from '../../core/auth/selectors';\n// import { DATES_SELECT_DAY } from '../../core/dates/action-types';\nimport { LoginAction } from '../../core/auth/actions';\nimport { Controls, Header, Month } from '..';\n\nimport './style.css';\n\nexport const Calendar = () => {\n  const dates = useSelector(getDays);\n  const loggedIn = useSelector(getIsLoggedIn);\n  const loading = useSelector(getIsLoading);\n\n  const dispatch = useDispatch();\n  const responseGoogle = useCallback((payload) => dispatch(LoginAction(payload)), [dispatch]);\n\n  return (\n  <>\n    <Header />\n    <div className=\"container\">\n        {\n            loading ? (<div className='loader'></div>) :\n            loggedIn ?\n                dates.map((month) => (<Month key={month} month={month} />)) :\n                (<GoogleLogin\n                 clientId=\"195751140228-9tkaoajmqv2ghuh0p1gs0a974aufffuo.apps.googleusercontent.com\"\n                 render={renderProps => (\n                     <button onClick={renderProps.onClick} disabled={renderProps.disabled}>Login with Google</button>\n                 )}\n                 buttonText=\"Login\"\n                 onSuccess={responseGoogle}\n                 onFailure={responseGoogle}\n                 cookiePolicy={'single_host_origin'}\n                 />)\n        }\n    </div>\n    <Controls />\n  </>)\n}\n","export const bankHolidayCountries = {\n    uk: {\n        display: 'UK',\n        dates: [\n            {\n                date: ''\n            }\n        ]\n    },\n    usa: {\n        display: 'USA',\n    }\n}\n","import { bankHolidayCountries } from '../../config';\n// import { createSelector } from 'reselect';\n\nexport const getIsConfig = state => state ? state.config.configIsOpen : false;\n\nexport const getBankHolidayOptions = () => Object.keys(bankHolidayCountries).map(key => ({key, display: bankHolidayCountries[key].display}));\n","import React, { useState, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n\nimport { CHANGE_CONFIG } from '../../core/config/action-types';\nimport { DATES_SELECT_START_MONTH, DATES_UPDATE_CARRIED_OVER } from '../../core/dates/action-types';\nimport { addNewBH, updateBH } from '../../core/dates/actions';\nimport { getIsConfig, getBankHolidayOptions } from '../../core/config/selectors';\nimport { getCurrentCO, getHolidayMapForYear, getBankHolidaysForYear } from '../../core/dates/selectors';\n\nimport 'react-tabs/style/react-tabs.css';\nimport './style.css';\n\nconst moment = require('moment');\nmoment().format();\n\nexport const Config = () => {\n  const isConfig = useSelector(getIsConfig);\n  let co = useSelector(getCurrentCO);\n  const bhDates = useSelector(getBankHolidaysForYear);\n  const holidayMap = useSelector(getHolidayMapForYear);\n  const uiDates = bhDates.reduce((agg, date, key) => ({\n      ...agg,\n      [key]: {\n          key,\n          name: holidayMap[date].hol.name,\n          start: holidayMap[date].hol.start,\n      }\n  }), {});\n  const dispatch = useDispatch();\n  const closeConfig = useCallback(() => dispatch({\n      type: CHANGE_CONFIG,\n  }), [dispatch]);\n  const chooseMonth = useCallback((month) => dispatch({\n      type: DATES_SELECT_START_MONTH,\n      payload: month\n  }), [dispatch]);\n  const updateCarriedOver = useCallback((newCo) => dispatch({\n      type: DATES_UPDATE_CARRIED_OVER,\n      payload: newCo\n  }), [dispatch]);\n\n  // const addBHDate = useCallback(() => dispatch(addNewBH()), [dispatch]);\n  const updateBHDay = useCallback((event) => {\n      const { target } = event;\n      const { name, value } = target;\n      event.persist();\n      const newDate = {\n          ...uiDates[name],\n          start: target.type === 'text' ? uiDates[name].start : value,\n          name: target.type === 'text' ? value : uiDates[name].name,\n      };\n      dispatch(updateBH(\n          Object.values({ ...uiDates, [name]: newDate }).map(date => ({\n              name: date.name,\n              start: date.start.length === 10 ? date.start.slice(2) : date.start\n          }))\n      ))\n  }, [dispatch, uiDates]);\n\n  const addBHDate = useCallback((event) => {\n      const { target } = event;\n      const { name, value } = target;\n      event.persist();\n      dispatch(addNewBH());\n  }, [dispatch]);\n\n  const getDateControls = () => (\n    <>\n      <div className=\"control\">\n        <h4>Choose your holiday year start month:</h4>\n        <button onClick={() => chooseMonth(0)}>Jan</button>\n        <button onClick={() => chooseMonth(1)}>Feb</button>\n        <button onClick={() => chooseMonth(2)}>Mar</button>\n        <button onClick={() => chooseMonth(3)}>Apr</button>\n        <button onClick={() => chooseMonth(4)}>May</button>\n        <button onClick={() => chooseMonth(5)}>Jun</button>\n        <button onClick={() => chooseMonth(6)}>Jul</button>\n        <button onClick={() => chooseMonth(7)}>Aug</button>\n        <button onClick={() => chooseMonth(8)}>Sept</button>\n        <button onClick={() => chooseMonth(9)}>Oct</button>\n        <button onClick={() => chooseMonth(10)}>Nov</button>\n        <button onClick={() => chooseMonth(11)}>Dec</button>\n      </div>\n      <div className=\"control\">\n        <label for=\"co\">Carried Over: </label>\n        <input id=\"co\"  type=\"number\" onChange={(event) => updateCarriedOver(event.target.value)} value={co} />\n      </div>\n    </>\n  )\n\n  const getBankHolidayControls = () => {\n    console.log('rrender');\n    return (\n\n    <>\n      <div className=\"control\">\n      <label for=\"reset-dates\">Reset bank holiday dates to country:</label>\n        <select id=\"reset-dates\" value={'uk'} onChange={() => {}}>\n          { getBankHolidayOptions().map((country) => (\n            ( <option key={country.key} value={country.key} >{country.display}</option> )\n          )) }\n        </select>\n        <button onClick={closeConfig}>Reset</button>\n      </div>\n        { Object.values(uiDates).map((date) => (\n         <div key={date.key} className=\"control\">\n            <input type='date' name={date.key} value={moment(date.start, 'YY-MM-DD').format('YYYY-MM-DD')} onChange={updateBHDay} />\n            <input type='text' name={date.key} value={date.name} onChange={updateBHDay} />\n         </div>\n        ))}\n      <div className=\"control\">\n        <button onClick={addBHDate}>Add new date</button>\n      </div>\n    </>\n  )}\n\n  return (\n  !isConfig ? null : <div className=\"modal\">\n    <div className=\"controls\">\n      <Tabs>\n        <TabList>\n          <Tab>Dates</Tab>\n          <Tab>Bank Holidays</Tab>\n          <Tab onClick={closeConfig}>Close</Tab>\n        </TabList>\n        <TabPanel>\n          { getDateControls() }\n        </TabPanel>\n        <TabPanel>\n          { getBankHolidayControls() }\n        </TabPanel>\n        <TabPanel>\n        </TabPanel>\n      </Tabs>\n    </div>\n  </div>)\n}\n","export const CHANGE_CONFIG = 'CHANGE_CONFIG';\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { getSelected } from '../../core/dates/selectors';\nimport { deselectDay } from '../../core/dates/actions';\n\nimport './style.css';\n\nexport const Controls = () => {\n  const selected = useSelector(getSelected);\n  const dispatch = useDispatch();\n  const deselect = useCallback(\n      (selected) => dispatch(deselectDay(selected)),\n      [ dispatch ]\n  );\n\n  return ( !selected ? null :\n    <footer>\n        { selected.hol.isBHoliday ? (\n          <>\n            <span className=\"from\">{selected.hol.name}: {selected.hol.start}</span>\n          </>\n         ) : (\n          <>\n            <span className=\"from\">From: {selected.hol.start}</span>\n            <span className=\"to\">To: {selected.hol.end}</span>\n            <span className=\"length\">({selected.length} days)</span>\n            <button onClick={deselect.bind(null, selected)}>Deselect</button>\n          </>\n         )\n        }\n    </footer>\n  )\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { selectDay, selectHoliday } from '../../core/dates/actions';\nimport { DATES_SELECT_END_OF_CURRENT } from '../../core/dates/action-types';\nimport { getCurrentStartDay, getBankHolidaysForYear, getHolidaysForYear, getProvisionalHolidaysForYear, isInSelectMode } from '../../core/dates/selectors';\nimport './style.css';\n\nconst moment = require('moment');\n\nexport const Day = ({day}) => {\n  const mday = moment(day);\n  const formattedDay = mday.format('YY-MM-DD');\n  const isWeekend = mday.format('d') === '0' || mday.format('d') === '6';\n\n  const dispatch = useDispatch();\n\n  const dates = useSelector(getHolidaysForYear);\n  const bhDates = useSelector(getBankHolidaysForYear);\n  const isHoliday = dates.indexOf(formattedDay) > -1;\n  const holidayClass = isHoliday ? 'hol' : '';\n  const isBHoliday = bhDates.indexOf(formattedDay) > -1;\n  const bHolidayClass = isBHoliday ? 'bhol' : '';\n\n  const provisionalHolidays = useSelector(getProvisionalHolidaysForYear);\n  const isProvHoliday = provisionalHolidays.indexOf(formattedDay) > -1;\n  const provHolidayClass = isProvHoliday ? 'provhol' : '';\n\n  const iISM = useSelector(isInSelectMode);\n  const selectClass = (iISM && !isWeekend) ? 'select-mode' : '';\n\n  const isCurrentStartDate = useSelector(getCurrentStartDay) === formattedDay;\n  const isCurrentStartDateClass = isCurrentStartDate ? 'start-of-hol' : '';\n\n  let clickEvent = selectDay;\n  let payload = formattedDay;\n  if (isHoliday || isBHoliday) {\n      clickEvent = selectHoliday\n      payload = {\n        formattedDay,\n        isBHoliday\n      };\n  }\n  if (isWeekend) {\n      clickEvent = false;\n  }\n  const clickEventHandler = useCallback(\n      () => clickEvent ? dispatch(clickEvent(payload)) : null,\n      [ dispatch, clickEvent ]\n  );\n  let onHoverEvent = false;\n  if (iISM) {\n      onHoverEvent = { type: DATES_SELECT_END_OF_CURRENT, payload: formattedDay };\n  };\n  const hoverEventHandler = useCallback(\n      () => onHoverEvent ? dispatch(onHoverEvent) : null,\n      [ dispatch, onHoverEvent ]\n  );\n\n  return (\n     <button className={`day day-${mday.format('d')} ${isCurrentStartDateClass} ${selectClass} ${provHolidayClass} ${holidayClass} ${bHolidayClass}`} onClick={clickEventHandler} onMouseOver={hoverEventHandler}>\n        {mday.format('DD')}\n     </button>\n  )\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { FaCogs, FaAngleRight, FaAngleLeft } from 'react-icons/fa';\n\nimport { CHANGE_CONFIG } from '../../core/config/action-types';\nimport { DATES_CHANGE_YEAR } from '../../core/dates/action-types';\nimport { getRemaining, getYear } from '../../core/dates/selectors';\nimport { getIsLoggedIn, getName } from '../../core/auth/selectors';\n\nimport './style.css';\n\nexport const Header = () => {\n  const remaining = useSelector(getRemaining);\n  const currentYear = useSelector(getYear);\n  const username = useSelector(getName);\n  const loggedIn = useSelector(getIsLoggedIn);\n\n  const dispatch = useDispatch();\n  const changeYear = useCallback((payload) => dispatch({\n      type: DATES_CHANGE_YEAR,\n      payload\n  }), [dispatch]);\n  const openConfig = useCallback(() => dispatch({\n      type: CHANGE_CONFIG,\n  }), [dispatch]);\n\n  return (\n  <header>\n    <span className=\"header-controls\">\n        <span className=\"settings\">\n            <span>\n                Trackmyholidays{username ? ', ' : ''}\n            </span>\n            <span>\n            {username}\n            </span>\n            { loggedIn ? (<button onClick={openConfig}><FaCogs color=\"white\" size=\"2em\" /></button>) : null}\n        </span>\n        { loggedIn ? (<span className=\"year\">\n            <button label=\"previous year\" onClick={changeYear.bind(null, -1)}><FaAngleLeft color=\"white\" size=\"2em\" /></button>\n            <span className=\"currentYear\">{currentYear} - {currentYear + 1}</span>\n            <button label=\"next year\" onClick={changeYear.bind(null, +1)}><FaAngleRight color=\"white\" size=\"2em\" /></button>\n        </span>) : null}\n        { loggedIn ? (<span className=\"stats\">\n            Days left to plan: {remaining}\n        </span>): null }\n    </span>\n  </header>)\n}\n","import React from 'react';\n\nimport { Day } from '..';\n\nimport './style.css';\n\nconst moment = require('moment');\n\nexport const Month = ({month}) => {\n  return (\n    <div className=\"month\">\n        <h3>{moment(month[0]).format('MMMM YYYY')}</h3>\n        <span className=\"dow\">M</span>\n        <span className=\"dow\">T</span>\n        <span className=\"dow\">W</span>\n        <span className=\"dow\">T</span>\n        <span className=\"dow\">F</span>\n        <span className=\"dow\">S</span>\n        <span className=\"dow\">S</span>\n        {month.map((day) => <Day key={day} day={day} />)}\n    </div>\n  )\n\n}\n","import React from 'react';\n\nimport { Calendar, Config } from './ui';\n\nimport './App.css';\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <Calendar />\n      <Config />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { handleActions } from 'redux-actions';\nimport './actions';\n\nimport {\n  LOGIN,\n} from './action-types';\n\nconst defaultState = {\n    ww: {}\n};\n\nexport const auth = handleActions({\n  [LOGIN]: (state = defaultState, { payload }) => {\n      return {\n        ...state,\n        ww: payload\n      };\n  },\n}, defaultState);\n","import { handleActions } from 'redux-actions';\n\nimport {\n  CHANGE_CONFIG,\n} from './action-types';\n\nconst defaultState = {\n    configIsOpen: false\n};\n\nexport const config = handleActions({\n  [CHANGE_CONFIG]: (state = defaultState, { payload }) => {\n      return {\n        ...state,\n        configIsOpen: !state.configIsOpen\n      };\n  },\n}, defaultState);\n","// import { combineReducers } from 'redux';\nimport { handleActions } from 'redux-actions';\nimport { saveDates } from './actions';\nimport { filterOutCurrentYear } from './selectors';\n\nimport {\n  DATES_CHANGE_YEAR,\n  DATES_SELECT_DAY,\n  DATES_SELECT_HOLIDAY,\n  DATES_SELECT_END_OF_CURRENT,\n  DATES_SELECT_START_MONTH,\n  DATES_DESELECT,\n  DATES_UPDATE_CARRIED_OVER,\n  LOAD_DATES_FROM_SERVER,\n  FETCH_DATES_FROM_SERVER,\n  ADD_NEW_BANK_HOLIDAY,\n  UPDATE_BANK_HOLIDAYS,\n} from './action-types';\n\nconst defaultState = {\n    loading: false,\n    startMonth: 9,\n    currentYear: 2019,\n    daysPerYear: 30,\n    carriedOver: {\n        2019: 5\n    },\n    startDay: '',\n    endOfCurrent: '',\n    selected: null,\n    holidays: [],\n    bankHolidays: [{\n        start: '20-12-25',\n        name: 'xmas'\n    }],\n    bankHolidayCountry: 'uk'\n};\nif ( typeof defaultState.carriedOver === 'number' ) {\n    const co = defaultState.carriedOver\n    defaultState.carriedOver = {};\n    defaultState[defaultState.currentYear] = co;\n}\n\nexport const dates = handleActions({\n    [FETCH_DATES_FROM_SERVER]: (state, {payload}) => ({\n        ...state,\n        loading: true\n    }),\n    [ADD_NEW_BANK_HOLIDAY]: (state) => ({\n        ...state,\n        bankHolidays: [...state.bankHolidays, {\n            start: `${String(state.currentYear).slice(2,4)}-${state.startMonth+1}-01`,\n            name: 'a'\n        }]\n    }),\n    [UPDATE_BANK_HOLIDAYS]: (state, {payload}) => {\n        const others = state.bankHolidays.filter(filterOutCurrentYear(state.currentYear, state.startMonth));\n        return {\n            ...state,\n            bankHolidays: [\n                ...others,\n                ...payload\n            ]\n        }\n    },\n    [LOAD_DATES_FROM_SERVER]: (state, {payload}) => {\n        const data = payload.text;\n        return {\n            ...state,\n            startMonth: data.startMonth,\n            currentYear: data.currentYear,\n            daysPerYear: data.daysPerYear,\n            carriedOver: data.carriedOver,\n            holidays: data.holidays,\n            bankHolidays: data.bankHolidays,\n            loading: false\n        }\n    },\n    [DATES_SELECT_DAY]: (state = defaultState, { payload }) => {\n        return payload;\n    },\n    [DATES_SELECT_END_OF_CURRENT]: (state, {payload}) => ({\n        ...state,\n        endOfCurrent: payload,\n    }),\n    [DATES_UPDATE_CARRIED_OVER]: (state, {payload}) => {\n        const newState = {\n            ...state,\n            carriedOver: {\n                ...state.carriedOver,\n                [state.currentYear]: parseInt(payload)\n            }\n        };\n        return newState;\n    },\n    [DATES_SELECT_START_MONTH]: (state, {payload}) => ({\n        ...state,\n        startMonth: payload\n    }),\n    [DATES_SELECT_HOLIDAY]: (state, {payload}) => ({\n        ...state,\n        selected: payload\n    }),\n    [DATES_CHANGE_YEAR]: (state, {payload}) => ({\n        ...state,\n        currentYear: state.currentYear + payload,\n        startDay: ''\n    }),\n    [DATES_DESELECT]: (state, {payload}) => {\n        const newState = {\n            ...state,\n            holidays: state.holidays.filter(hol => hol.start !== payload.hol.start)\n        };\n        return newState;\n    },\n}, defaultState);\n","import { combineReducers } from 'redux';\n\nimport { auth } from './auth/reducer';\nimport { config } from './config/reducer';\nimport { dates } from './dates/reducer';\n\nexport const rootReducer = combineReducers({\n    auth,\n    config,\n    dates\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { mainStore } from './core/store';\nexport const storeInstance = mainStore();\n\nReactDOM.render(<Provider store={storeInstance}>\n    <App />\n</Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger'\nimport { rootReducer } from './reducer';\n\nexport const mainStore = () => {\n return createStore(\n  rootReducer,\n   applyMiddleware(thunk, logger)\n );\n}\n"],"sourceRoot":""}